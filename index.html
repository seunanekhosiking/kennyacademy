<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="file-list">
        <!-- JavaScript will generate play buttons here -->
    </div>

    <!-- Audio Player -->
    <div class="form-group">
        <audio id="audio-player" controls>
            <!-- Source will be set dynamically by JavaScript -->
            Your browser does not support the audio element.
        </audio>
    </div>

    <script>
        const audioPlayer = document.getElementById("audio-player");
        const fileContainer = document.querySelector(".file-list");

        // Fetch the list of MP3 files from the PHP script
        fetch("list_mp3.php")
            .then(response => response.json())
            .then(mp3Files => {
                // Generate play buttons for each MP3 file
                mp3Files.forEach((fileName, index) => {
                    const button = document.createElement("button");
                    button.textContent = `Play MP3 ${index + 1}`;
                    button.onclick = () => playMp3(fileName);
                    button.classList.add("play-button");
                    fileContainer.appendChild(button);
                });
            })
            .catch(error => console.error(error));

        function playMp3(fileName) {
            // Set the source of the audio player to the selected MP3 file
            audioPlayer.src = fileName;

            // Play the audio
            audioPlayer.play();
        }
    </script>
</body>
</html>
